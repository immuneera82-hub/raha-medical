# ๐ ุณูุฑูุจุช ูุดุฑ ุงูุชุญุฏูุซุงุช ุนูู GitHub ูุงูุณูุฑูุฑ
# Deployment Script for Raha Medical

## ุงูุฎุทูุฉ 1๏ธโฃ: ุงูุชุญูู ูู ุงููููุงุช ุงูุณุฑูุฉ

### ุฃููุงู: ุชุฃูุฏ ูู ุฃู ุงููููุงุช ุงูุณุฑูุฉ ุบูุฑ ูุฏุฑุฌุฉ ูู Git
```powershell
# ุงูุชุญูู ูู ุฃู .env ุบูุฑ ููุฌูุฏ ูู Git
git ls-files | Select-String ".env"
# ูุฌุจ ุฃู ูููู ุงููุงุชุฌ ูุงุฑุบุงู

# ุงูุชุญูู ูู ุฃู credentials.txt ุบูุฑ ููุฌูุฏ
git ls-files | Select-String "credentials"
# ูุฌุจ ุฃู ูููู ุงููุงุชุฌ ูุงุฑุบุงู
```

โ **ุฅุฐุง ูุฌุฏุช ุฃู ูููุงุช ุณุฑูุฉ ูู Git:**
```powershell
# ุฅุฒุงูุชูุง ูู Git (ูุน ุงูุงุญุชูุงุธ ุจูุง ูุญููุงู)
git rm --cached .env
git rm --cached backend/credentials.txt
git commit -m "Remove sensitive files from Git"
```

---

## ุงูุฎุทูุฉ 2๏ธโฃ: ุฅุถุงูุฉ ูุชุณุฌูู ุงูุชุบููุฑุงุช

```powershell
# ุงูุงูุชูุงู ุฅูู ูุฌูุฏ ุงููุดุฑูุน
cd C:\Users\TOSHIBA\Desktop\RM

# ุงูุชุญูู ูู ุญุงูุฉ Git
git status

# ุฅุถุงูุฉ ุฌููุน ุงููููุงุช ุงููุนุฏูุฉ (ูุงุนุฏุง ุงููุณุชุซูุงุฉ ูู .gitignore)
git add .

# ุฃู ุฅุถุงูุฉ ูููุงุช ูุญุฏุฏุฉ ููุท
git add backend/static/templates/terms.html
git add backend/static/templates/faq.html
git add .gitignore
git add .env.example
git add SECURITY_RECOMMENDATIONS.md

# ุชุณุฌูู ุงูุชุบููุฑุงุช (Commit)
git commit -m "โจ Update Terms & FAQ for transparency and compliance

- ุญุฐู ุณูุงุณุฉ ุงูุฅูุบุงุก ูุงูุงุณุชุฑุฏุงุฏ ูู ุงูุดุฑูุท ูุงูุฃุญูุงู
- ุชุนุฏูู ุงููุงููู ุงููุนููู ุจู ูููุชุตุฑ ุนูู ููุงููู ุงูููุฏ ููุท
- ุฅุนุงุฏุฉ ุตูุงุบุฉ ุฅุฌุงุจุฉ ุงูุชูุงููู ูู FAQ ูุชูุถูุญ ุฃููุง ุชูุฏูุฑูุฉ
- ุชูุถูุญ ูุง ุชุดููู ุงูุชูุงููู ููุง ูุง ุชุดููู
- ุชุญุณูู ููู .gitignore ููุญูุงูุฉ ุงูุฃูุถู
- ุฅุถุงูุฉ ููู ุชูุตูุงุช ุงูุฃูุงู ุงูุดุงูู
"
```

---

## ุงูุฎุทูุฉ 3๏ธโฃ: ุฑูุน ุงูุชุญุฏูุซุงุช ุนูู GitHub

```powershell
# ุฑูุน ุงูุชุญุฏูุซุงุช ุนูู GitHub
git push origin main

# ูู ุญุงูุฉ ูุฌูุฏ ูุดุงูู ูู ุงููุฒุงููุฉ
git pull origin main --rebase
git push origin main
```

---

## ุงูุฎุทูุฉ 4๏ธโฃ: ุชุญุฏูุซ ุงูุณูุฑูุฑ

### ๐ ุงูุงุชุตุงู ุจุงูุณูุฑูุฑ (SSH)
```powershell
# ุงุณุชุจุฏู ุงูููู ุงูุชุงููุฉ ุจูููู ุงููุนููุฉ
ssh user@your-server-ip
# ูุซุงู: ssh root@rahamedical.com
```

### ๐ฅ ุณุญุจ ุงูุชุญุฏูุซุงุช ูู GitHub
```bash
# ุจุนุฏ ุงูุงุชุตุงู ุจุงูุณูุฑูุฑ
cd /path/to/raha-medical  # ุงุณุชุจุฏู ุจุงููุณุงุฑ ุงูุตุญูุญ

# ุณุญุจ ุขุฎุฑ ุงูุชุญุฏูุซุงุช
git pull origin main
```

---

## ุงูุฎุทูุฉ 5๏ธโฃ: ุฅุนุงุฏุฉ ุจูุงุก ูุชุดุบูู Docker

### ุทุฑููุฉ 1: ุฅุนุงุฏุฉ ุจูุงุก ูุงููุฉ (ููุตู ุจูุง ููุชุญุฏูุซุงุช ุงููุจูุฑุฉ)
```bash
# ุฅููุงู ุงูุญุงููุงุช ุงูุญุงููุฉ
docker-compose down

# ุฅุนุงุฏุฉ ุจูุงุก ุงูุตูุฑ
docker-compose build --no-cache

# ุชุดุบูู ุงูุญุงููุงุช ุงูุฌุฏูุฏุฉ
docker-compose up -d

# ูุชุงุจุนุฉ ุงูุณุฌูุงุช ููุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก
docker-compose logs -f
```

### ุทุฑููุฉ 2: ุฅุนุงุฏุฉ ุชุดุบูู ุณุฑูุนุฉ (ููุชุญุฏูุซุงุช ุงูุจุณูุทุฉ)
```bash
# ุฅุนุงุฏุฉ ุชุดุบูู ุงูุญุงููุฉ ุงูุฑุฆูุณูุฉ ููุท
docker-compose restart backend

# ุฃู ุฅุนุงุฏุฉ ุชุดุบูู ุฌููุน ุงูุญุงููุงุช
docker-compose restart
```

### ุทุฑููุฉ 3: ุชุญุฏูุซ ุจุฏูู ุชููู (Zero Downtime)
```bash
# ุชุญุฏูุซ ุชุฏุฑูุฌู
docker-compose up -d --force-recreate --no-deps backend

# ุงูุชุญูู ูู ุงูุญุงูุฉ
docker-compose ps
```

---

## ุงูุฎุทูุฉ 6๏ธโฃ: ุงูุชุญูู ูู ูุฌุงุญ ุงูุชุญุฏูุซ

### 1. ุงูุชุญูู ูู ุนูู ุงูุญุงููุงุช
```bash
# ุนุฑุถ ุญุงูุฉ ุฌููุน ุงูุญุงููุงุช
docker-compose ps

# ูุฌุจ ุฃู ุชุฑู ุฌููุน ุงูุญุงููุงุช ุจุญุงูุฉ "Up"
```

### 2. ูุญุต ุงูุณุฌูุงุช (Logs)
```bash
# ุนุฑุถ ุขุฎุฑ 100 ุณุทุฑ ูู ุงูุณุฌูุงุช
docker-compose logs --tail=100

# ูุชุงุจุนุฉ ุงูุณุฌูุงุช ุงููุจุงุดุฑุฉ
docker-compose logs -f backend

# ุงูุฎุฑูุฌ ูู ุงููุชุงุจุนุฉ: Ctrl+C
```

### 3. ุงุฎุชุจุงุฑ ุงููููุน
```bash
# ุงุฎุชุจุงุฑ API
curl https://api.rahamedical.com/health

# ุงุฎุชุจุงุฑ ุงููููุน ุงูุฑุฆูุณู
curl https://rahamedical.com

# ูุฌุจ ุฃู ุชุญุตู ุนูู ุงุณุชุฌุงุจุฉ 200 OK
```

### 4. ุงุฎุชุจุงุฑ ุงูุตูุญุงุช ุงููุญุฏุซุฉ
- ุฒูุงุฑุฉ https://rahamedical.com/terms (ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุงููุณู 7)
- ุฒูุงุฑุฉ https://rahamedical.com/faq (ุชุฃูุฏ ูู ุงูุชุญุฏูุซุงุช ุงูุฌุฏูุฏุฉ)

---

## ุงูุฎุทูุฉ 7๏ธโฃ: ุฅุนุงุฏุฉ ุชุดุบูู Caddy (ุฅุฐุง ูุฒู ุงูุฃูุฑ)

```bash
# ุฅุนุงุฏุฉ ุชุญููู ุฅุนุฏุงุฏุงุช Caddy ุจุฏูู ุชููู
docker exec caddy caddy reload --config /etc/caddy/Caddyfile

# ุฃู ุฅุนุงุฏุฉ ุชุดุบูู ุญุงููุฉ Caddy
docker-compose restart caddy
```

---

## ุงูุฎุทูุฉ 8๏ธโฃ: ุงููุณุฎ ุงูุงุญุชูุงุทู (Backup)

### ูุจู ุฃู ุชุญุฏูุซ ูุจูุฑุ ุฎุฐ ูุณุฎุฉ ุงุญุชูุงุทูุฉ
```bash
# ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
# (Supabase ูููู ุจุฐูู ุชููุงุฆูุงูุ ููู ููููู ุฃุฎุฐ ูุณุฎุฉ ูุฏููุฉ)

# ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ุงููููุงุช
tar -czf backup_$(date +%Y%m%d_%H%M%S).tar.gz backend/

# ููู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ูููุงู ุขูู
mv backup_*.tar.gz /backups/
```

---

## ๐จ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: "git push" ูุดู
```powershell
# ุญู: ูุฏ ุชุญุชุงุฌ ูุชุญุฏูุซ ุงูููู ุงููุญููุฉ ุฃููุงู
git pull origin main --rebase
git push origin main
```

### ุงููุดููุฉ: ุงูุญุงููุงุช ูุง ุชุนูู
```bash
# 1. ูุญุต ุงูุณุฌูุงุช
docker-compose logs backend

# 2. ุงูุชุญูู ูู ุงูููุงูุฐ
netstat -tuln | grep :5000

# 3. ุฅุนุงุฏุฉ ุงูุจูุงุก ุงููุงูู
docker-compose down -v
docker-compose build --no-cache
docker-compose up -d
```

### ุงููุดููุฉ: "Permission denied" ุนูุฏ ุงูุงุชุตุงู ุจู SSH
```powershell
# ุชุฃูุฏ ูู ุฃู ูุฏูู ุงูููุชุงุญ ุงูุตุญูุญ
ssh -i path/to/private-key.pem user@server-ip
```

### ุงููุดููุฉ: ุงูุชุบููุฑุงุช ูุง ุชุธูุฑ ุนูู ุงููููุน
```bash
# 1. ุงูุณุญ ุงููุงุด
docker-compose exec backend python -c "from flask import Flask; app = Flask(__name__); app.config['SEND_FILE_MAX_AGE_DEFAULT'] = 0"

# 2. ุชุญูู ูู ุฃู Caddy ูุฎุฏู ุงููููุงุช ุงูุตุญูุญุฉ
docker-compose exec caddy ls /srv

# 3. ุงูุณุญ ูุงุด ุงููุชุตูุญ ุฃู ุงุณุชุฎุฏู Ctrl+Shift+R
```

---

## ๐ ุฃูุงูุฑ ุณุฑูุนุฉ ูููุฏุฉ

```bash
# ุนุฑุถ ุฌููุน ุงูุญุงููุงุช ุงููุดุทุฉ
docker ps

# ุงูุฏุฎูู ุฅูู ุญุงููุฉ Backend
docker-compose exec backend bash

# ุนุฑุถ ุงุณุชุฎุฏุงู ุงูููุงุฑุฏ
docker stats

# ุชูุธูู Docker (ุงุญุฐุฑ!)
docker system prune -a

# ุนุฑุถ ุญุฌู ุงูุตูุฑ
docker images

# ุนุฑุถ ุณุฌูุงุช Caddy
docker-compose logs caddy

# ุฅููุงู ุฌููุน ุงูุญุงููุงุช
docker-compose down

# ุฅุฒุงูุฉ ุฌููุน ุงูุญุงููุงุช ูุงูุดุจูุงุช
docker-compose down -v
```

---

## โ ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ

ุจุนุฏ ูู ุชุญุฏูุซุ ุชุฃูุฏ ูู:

- [ ] ุงููููุงุช ุงูุณุฑูุฉ ุบูุฑ ููุฌูุฏุฉ ูู Git
- [ ] ุงูุชุญุฏูุซุงุช ูุฑููุนุฉ ุนูู GitHub ุจูุฌุงุญ
- [ ] ุงูุณูุฑูุฑ ุณุญุจ ุขุฎุฑ ุงูุชุญุฏูุซุงุช
- [ ] Docker ุฃุนูุฏ ุจูุงุคู ูุชุดุบููู ุจูุฌุงุญ
- [ ] ุฌููุน ุงูุญุงููุงุช ุชุนูู (Up)
- [ ] ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู ุงูุณุฌูุงุช
- [ ] ุงููููุน ูุนูู ุจุดูู ุตุญูุญ
- [ ] ุงูุตูุญุงุช ุงููุญุฏุซุฉ ุชุนุฑุถ ุงูุชุบููุฑุงุช
- [ ] HTTPS ูุนูู ุจุดูู ุตุญูุญ
- [ ] ุฃูุฎุฐุช ูุณุฎุฉ ุงุญุชูุงุทูุฉ

---

## ๐ ุฌุฏูู ุงูุชุญุฏูุซุงุช ุงูููุตู ุจู

```
ููููุงู:
  - ูุญุต ุงูุณุฌูุงุช ุจุญุซุงู ุนู ุฃุฎุทุงุก
  
ุฃุณุจูุนูุงู:
  - ุชุญุฏูุซ ุงูููุชุจุงุช (ุฅุฐุง ูุงู ุขููุงู)
  - ูุญุต ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
  
ุดูุฑูุงู:
  - ุชุญุฏูุซ Dependencies
  - ูุฑุงุฌุนุฉ ุงูุฃูุงู
  - ุงุฎุชุจุงุฑ ุงุณุชุนุงุฏุฉ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ
```

---

## ๐ ููุฏุนู ุงูููู

ูู ุญุงู ูุงุฌูุช ูุดุงูู:
1. ุฑุงุฌุน ุงูุณุฌูุงุช ุฃููุงู (`docker-compose logs`)
2. ุฑุงุฌุน ูุซุงุฆู Docker ู Caddy
3. ุงุจุญุซ ุนู ุงูุฎุทุฃ ูู Google/Stack Overflow
4. ุงุชุตู ุจูุฑูู ุงูุฏุนู ุงูููู

---

**ุขุฎุฑ ุชุญุฏูุซ:** ุฏูุณูุจุฑ 2024  
**ุงูุฅุตุฏุงุฑ:** 1.0  
**ุงููุคูู:** ูุฑูู Raha Medical ุงูุชููู
